<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
    width="690" height="1161" 
    viewBox="0 0 690 1161"
    role="img" aria-labelledby="diagram-title"><title id="diagram-title">UML State Machine - Complete Features</title><defs><style type="text/css"><![CDATA[.runiq-node-text { font-family: sans-serif; font-size: 14px; }.runiq-edge-text { font-family: sans-serif; font-size: 12px; }.runiq-container-label { font-family: sans-serif; font-size: 16px; font-weight: bold; fill: #666; }]]></style><pattern id="pedigree-half-fill" width="40" height="40" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="20" height="40" fill="#000"/><rect x="20" y="0" width="20" height="40" fill="#fff"/></pattern></defs><g data-runiq-edge="start-idle"><defs>
      <marker id="arrow-standard-start-idle" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 455 881 L 455 891 L 453 891 L 453 1032" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-start-idle)" /></g><g data-runiq-edge="idle-decision"><defs>
      <marker id="arrow-standard-idle-decision" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 431 1032 L 431 891 L 126 891 L 126 63 L 153 63 L 153 53" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-idle-decision)" /></g><g data-runiq-edge="decision-processing"><defs>
      <marker id="arrow-standard-decision-processing" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 163 53 L 163 772" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-decision-processing)" /><text x="163" y="412.5" text-anchor="middle" dominant-baseline="middle" class="runiq-edge-text">[priority == high]</text></g><g data-runiq-edge="decision-waiting"><defs>
      <marker id="arrow-standard-decision-waiting" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 173 53 L 173 73 L 378 73 L 378 204" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-decision-waiting)" /><text x="378" y="73" text-anchor="middle" dominant-baseline="middle" class="runiq-edge-text">[priority == low]</text></g><g data-runiq-edge="processing-split"><defs>
      <marker id="arrow-standard-processing-split" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 188 772 L 188 63 L 385 63 L 385 53" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-processing-split)" /></g><g data-runiq-edge="split-waiting"><defs>
      <marker id="arrow-standard-split-waiting" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 405 53 L 405 204" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-split-waiting)" /></g><g data-runiq-edge="split-idle"><defs>
      <marker id="arrow-standard-split-idle" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 425 53 L 425 63 L 645 63 L 645 891 L 517 891 L 517 1032" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-split-idle)" /></g><g data-runiq-edge="waiting-merge"><defs>
      <marker id="arrow-standard-waiting-merge" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 447 295 L 447 446" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-waiting-merge)" /></g><g data-runiq-edge="idle-merge"><defs>
      <marker id="arrow-standard-idle-merge" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 474 1032 L 474 641 L 461 641 L 461 454" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-idle-merge)" /></g><g data-runiq-edge="merge-junc"><defs>
      <marker id="arrow-standard-merge-junc" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 487 454 L 487 605" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-merge-junc)" /></g><g data-runiq-edge="junc-processing"><defs>
      <marker id="arrow-standard-junc-processing" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 489 621 L 489 631 L 214 631 L 214 772" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-junc-processing)" /><text x="214" y="631" text-anchor="middle" dominant-baseline="middle" class="runiq-edge-text">[retry]</text></g><g data-runiq-edge="junc-hist"><defs>
      <marker id="arrow-standard-junc-hist" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 493 621 L 493 641 L 489 641 L 489 811" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-junc-hist)" /><text x="489" y="641" text-anchor="middle" dominant-baseline="middle" class="runiq-edge-text">[restore]</text></g><g data-runiq-edge="hist-idle"><defs>
      <marker id="arrow-standard-hist-idle" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 500 841 L 500 891 L 495 891 L 495 1032" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-hist-idle)" /></g><g data-runiq-edge="junc-term"><defs>
      <marker id="arrow-standard-junc-term" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 497 621 L 497 631 L 618 631 L 618 772" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-junc-term)" /><text x="618" y="631" text-anchor="middle" dominant-baseline="middle" class="runiq-edge-text">[fatal error]</text></g><g data-runiq-edge="processing-end"><defs>
      <marker id="arrow-standard-processing-end" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0,0 0,6 9,3" fill="#333" />
      </marker></defs><path d="M 241 881 L 241 1032" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrow-standard-processing-end)" /></g><g data-runiq-node="start"><g class="initial-state-shape"><circle cx="455" cy="872" r="9" fill="#000000" stroke="none" /></g></g><g data-runiq-node="idle"><g class="state-shape"><rect x="410" y="1032" width="217.20000000000002" height="109" rx="10" ry="10" fill="#ffffff" stroke="#000000" stroke-width="1" /><text x="518.6" y="1056.6" text-anchor="middle" font-size="14" font-family="Arial" font-weight="bold" fill="#000000">Idle</text><line x1="422" y1="1065.6" x2="615.2" y2="1065.6" stroke="#000000" stroke-width="1" /><text x="422" y="1086.6" font-size="12.6" font-family="Arial" fill="#000000">entry / turnOffLight()</text><text x="422" y="1104.6" font-size="12.6" font-family="Arial" fill="#000000">do / monitorSensors()</text><text x="422" y="1122.6" font-size="12.6" font-family="Arial" fill="#000000">exit / logStateChange()</text></g></g><g data-runiq-node="processing"><g class="state-shape"><rect x="137" y="772" width="208.8" height="109" rx="10" ry="10" fill="#ffffff" stroke="#000000" stroke-width="1" /><text x="241.4" y="796.6" text-anchor="middle" font-size="14" font-family="Arial" font-weight="bold" fill="#000000">Processing</text><line x1="149" y1="805.6" x2="333.8" y2="805.6" stroke="#000000" stroke-width="1" /><text x="149" y="826.6" font-size="12.6" font-family="Arial" fill="#000000">entry / startProcess()</text><text x="149" y="844.6" font-size="12.6" font-family="Arial" fill="#000000">do / processData()</text><text x="149" y="862.6" font-size="12.6" font-family="Arial" fill="#000000">exit / cleanup()</text></g></g><g data-runiq-node="waiting"><g class="state-shape"><rect x="351" y="204" width="192" height="91" rx="10" ry="10" fill="#ffffff" stroke="#000000" stroke-width="1" /><text x="447" y="228.6" text-anchor="middle" font-size="14" font-family="Arial" font-weight="bold" fill="#000000">Waiting</text><line x1="363" y1="237.6" x2="531" y2="237.6" stroke="#000000" stroke-width="1" /><text x="363" y="258.6" font-size="12.6" font-family="Arial" fill="#000000">entry / startTimer()</text><text x="363" y="276.6" font-size="12.6" font-family="Arial" fill="#000000">exit / cancelTimer()</text></g></g><g data-runiq-node="decision"><g class="choice-shape"><path d="M 163 13 L 183 33 L 163 53 L 143 33 Z" fill="#ffffff" stroke="#000000" stroke-width="1" /><text x="163" y="38" text-anchor="middle" font-size="11.200000000000001" font-family="Arial" fill="#000000">decision</text></g></g><g data-runiq-node="split"><g class="fork-shape"><rect x="365" y="45" width="80" height="8" fill="#000000" stroke="none" /></g></g><g data-runiq-node="merge"><g class="join-shape"><rect x="434" y="446" width="80" height="8" fill="#000000" stroke="none" /></g></g><g data-runiq-node="junc"><g class="junction-shape"><circle cx="493" cy="613" r="8" fill="#000000" /></g></g><g data-runiq-node="hist"><g class="history-shallow-shape"><circle cx="500" cy="826" r="15" fill="#ffffff" stroke="#000000" stroke-width="1.5" /><text x="500" y="831" text-anchor="middle" font-size="18" font-family="Arial" font-weight="bold" fill="#000000">H</text></g></g><g data-runiq-node="histDeep"><g class="history-deep-shape"><circle cx="91" cy="28" r="15" fill="#ffffff" stroke="#000000" stroke-width="1.5" /><text x="91" y="33" text-anchor="middle" font-size="15" font-family="Arial" font-weight="bold" fill="#000000">H*</text></g></g><g data-runiq-node="term"><g class="terminate-shape"><circle cx="625" cy="782" r="10" fill="#ffffff" stroke="#000000" stroke-width="1.5" /><line x1="618" y1="775" x2="632" y2="789" stroke="#000000" stroke-width="1.5" /><line x1="632" y1="775" x2="618" y2="789" stroke="#000000" stroke-width="1.5" /></g></g><g data-runiq-node="entryPt"><g class="entry-point-shape"><circle cx="18" cy="19" r="6" fill="#ffffff" stroke="#000000" stroke-width="1.5" /></g></g><g data-runiq-node="exitPt"><g class="exit-point-shape"><circle cx="50" cy="19" r="6" fill="#ffffff" stroke="#000000" stroke-width="1.5" /><line x1="46.4" y1="15.4" x2="53.6" y2="22.6" stroke="#000000" stroke-width="1.0499999999999998" /><line x1="53.6" y1="15.4" x2="46.4" y2="22.6" stroke="#000000" stroke-width="1.0499999999999998" /></g></g><g data-runiq-node="end"><g class="final-state-shape"><circle cx="249" cy="1043" r="11" fill="none" stroke="#000000" stroke-width="1.5" /><circle cx="249" cy="1043" r="6.050000000000001" fill="#000000" stroke="none" /></g></g></svg>